<div class="quest-timeline">
  <section class="panel panel-default" data-ng-show="questTimelines === undefined || questTimelines.length === 0">
    퀘스트 내역이 없습니다!
  </section>
  <section data-ng-show="questTimelines.length > 0">
    <article class="panel panel-default" data-ng-repeat="questTimeline in questTimelines">
      <section class="panel-body">
        <div class="col-sm-2">
          <div class="quest-progress-user-profile-photo" style="background-image:url('{{questTimeline.user.profileImage}}')">
          </div>
        </div>
        <div class="col-sm-10">
          <strong>
            <a href="" data-ui-sref="profile({userId: questTimeline.user._id})">{{questTimeline.user.name}}</a>
          </strong>님이
          <span class="quest-progress-name">{{questTimeline.questPool.title}}</span><strong>{{getConnectingWord(questTimeline.questPool.title)}}</strong>
          {{questTimeline.quest.status}}하셨습니다.
        </div>
        <div class="col-sm-12">
          <p>
            {{questTimeline.content}}
          </p>
        </div>
        <div class="col-sm-12 quest-tags">
          <ul class="list-inline">
            <li data-ng-repeat="tag in questTimeline.questPool.tags">
              <a href="#">#{{tag}}</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-12" data-ng-show="questTimeline.comments.length > 0">
          {{questTimeline.comments.length}}개의 댓글
        </div>
        <div class="col-sm-12 quest-timeline-interaction-wrapper">
          <div class="pull-left"></div>
          <div class="pull-right"><button class="btn btn-fab btn-raised btn-material-indigo "><i class="mdi-action-thumb-up"></i></button></div>
        </div>
        <div class="col-sm-12 quest-timeline-comment-wrapper no-padding">
          <hr/>
          <ul class="list-unstyled">
            <li data-ng-repeat="comment in questTimeline.comments">
              <article class="quest-timeline-comment default-padding">
                <div class="pull-left quest-timeline-comment-profile-photo"></div>
                <div class="pull-left"><a href="#">{{comment.user.name}}</a></div>
                <div data-ng-show="comment.status !== 'edit'" class="pull-left quest-timeline-comment-content">{{comment.content}}</div>
                <input data-ng-show="comment.status === 'edit'" type="text" class="form-control quest-comment-input" data-ng-model="comment.content">
                <button data-ng-show="comment.status !== 'edit'" class="btn btn-raised btn-info pull-right" data-ng-click="comment.status = 'edit'" >edit</button>
                <button class="btn btn-raised btn-danger pull-right" data-ng-click="deleteComment(comment,$event)" >X</button>
                <button data-ng-show="comment.status === 'edit'" class="btn btn-raised btn-info pull-right" data-ng-click="updateComment(comment)" >save</button>
                <div class="pull-right" data-ng-click="deleteComment(comment)">{{comment.createdAt | date:'yyyy-MM-dd HH:mm'}}</div>
                <div class="clearfix"></div>
              </article>
            </li>
          </ul>
          <div class="col-sm-12 quest-timeline-comment-input-wrapper default-padding">
            <div class="pull-left quest-timeline-comment-profile-photo"></div>
            <input type="text" class="form-control quest-comment-input" data-ng-model="questTimeline.addTargetComment.content">
            <button class="btn btn-info pull-right" data-ng-click="addComment(questTimeline)">댓글달기</button>
          </div>
        </div>
      </section>
    </article>
  </section>
</div>
